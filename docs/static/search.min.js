!function(){var o,c={},m=document.body.clientWidth<=600;function y(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'/]/g,function(e){return t[e]})}function f(e){var t="";if(e.cells&&e.cells.length)for(var n=0,a=e.cells.length;n<a;n++)for(var i=e.cells[n],s=0,r=i.length;s<r;s++)i[s].trim()&&(t+=i[s]+" ");return t}function v(e){var t=new RegExp("[*]","gi");return e.replace(t,"")}function s(e){var p=[],h=[];Object.keys(c).forEach(function(t){h=h.concat(Object.keys(c[t]).map(function(e){return c[t][e]}))});function t(e){var t=function(e){var t=e.title||"",n=e.body||"";return t=t.replace(/\(.*\)/,""),n=n.replace(/\n\s+/g,""),{title:v(t),body:v(n),slug:e.slug}}(h[e]),n=!1,a="",i=t.title&&t.title.trim(),s=t.body&&t.body.trim(),r=t.slug||"";if(i&&s){var o=new RegExp(g.replace("-","-").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),c=-1;if(isTitle=i&&i.match(o),isContent=s&&s.match(o),isTitle||isContent){n=!0;c=0;isContent&&(c=s.indexOf(g));var l,d=0,f=m?70:500;(d=0==(l=c<11?0:c-10)?f:c+g.length+f)>s.length&&(d=s.length),a+="..."+y(s.substring(l,d)).replace(o,'<em class="search-keyword">'+g+"</em>")+"...",i=y(i).replace(o,'<em class="search-keyword">'+g+"</em>")}else n=!1;if(n){var u={title:i,content:a,url:r};0===i.indexOf("<em class=")?p.unshift(u):p.push(u)}}}for(var g=e,n=0;n<h.length;n++)t(n);return p}function i(n,a){o=Docsify;var e="auto"===n.paths,t=localStorage.getItem("docsify.search.expires")<Date.now();if(c=JSON.parse(localStorage.getItem("docsify.search.index")),t)c={};else if(!e)return;var i=e?function(i){var s=[];return o.dom.findAll("a:not([data-nosearch])").forEach(function(e){var t=e.href,n=e.getAttribute("href"),a=i.parse(t).path;a&&-1===s.indexOf(a)&&!Docsify.util.isAbsolutePath(n)&&s.push(a)}),s}(a.router):n.paths,s=i.length,r=0;i.forEach(function(t){if(c[t])return r++;o.get(a.router.getFile(t),!1,a.config.requestHeaders).then(function(e){c[t]=function(a,e,i,s){if(!(e=e.replace(/^\s*$/g,"")||"").match(/^#/)){var t="uni-app",n=a.match(/\/([^\/]+)/i);n&&n[1]&&(t=n[1]),e="# "+t+"\n"+e}var r,o=window.marked.lexer(e),c=window.Docsify.slugify,l={},d=null;return o.forEach(function(e){if("heading"===e.type&&e.depth<=s){e.depth<3&&(d=null),3===e.depth&&(d=e.text);var t=e.text.match(/@([A-Za-z0-9\-]+)/),n="";t?(n=t[1],e.text=e.text.replace(t[0],"")):n=e.text,r=i.toURL(a,{id:c(n)}),l[r]={slug:r,title:e.text,body:""},4===e.depth&&d&&(l[r].title=d+"#"+l[r].title)}else{if(!r)return;l[r]?l[r].body?"table"===e.type?l[r].body+="\n"+f(e):l[r].body+="\n"+(e.text||""):"table"===e.type?l[r].body=f(e):l[r].body=e.text:l[r]={slug:r,title:"",body:""}}}),c.clear(),l}(t,e,a.router,n.depth),s===++r&&function(e){localStorage.setItem("docsify.search.expires",Date.now()+e),localStorage.setItem("docsify.search.index",JSON.stringify(c))}(n.maxAge)})})}var u="";function r(e,t){var n=new RegExp(t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),"gi"),a=new RegExp("&lt;span style='font-weight:bold;color:red'&gt;","g"),i=new RegExp("&lt;/span&gt;","g");return e.replace(a,"").replace(i,"").replace(n,'<em class="search-keyword">'+t+"</em>")}function p(e,t){var n="",a="规范";switch(t&&(e.title=r(e.title,t),e.content=r(e.content,t)),n+='<div class="matching-post">\n',e.type){case"questions":a="问题";break;case"articles":a="文章"}if(n+='<a href="'+e.url+'" target="_blank"><div class="post-wrapper">',t){var i="questions"===e.type?"回复":"评论";n+='<p class="aw-text"><span class="post-tag">'+a+"</span></p>"}else n+='<p class="aw-text"><span class="post-tag">'+a+"</span></p>";return n+="\n<h2>"+e.title+"</h2></div>",t&&(n+="<p>"+e.comment_count+"个"+i+'<span class="aw-text-space">-</span>'+e.view_count+"次浏览</p>"),n+="\n<p>"+e.content+"</p>\n</a>\n</div>"}function l(c,e){var t=Docsify.dom.find("div.search"),l=m?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),n=Docsify.dom.find(t,".clear-button"),a=document.getElementById("main");if(!c)return n.classList.remove("show"),l.classList.remove("show"),l.innerHTML="",!m&&a&&a.classList.remove("hide"),void(e.config.searchPlugin.searching=!1);var i=s(c),d="";i.forEach(function(e){d+=p(e)}),l.classList.add("show"),n.classList.add("show"),l.innerHTML=d||'<p class="empty"></p>',m||a.classList.add("hide"),$docsify.get("//ext.dcloud.net.cn/search/json?query="+encodeURIComponent(c)).then(function(e){var t,n,a=JSON.parse(e);if(0===a.ret){for(var i=a.data,s="",r=0,o=i.length;r<o;r++)s+=(t=i[r],n=void 0,n="",n+='<div class="matching-post">\n',n+='<a href="'+t.url+'" target="_blank"><div class="post-wrapper">',n+='<p class="aw-text"><span class="post-tag">插件</span></p>',n+="\n<h2>"+t.name+"</h2></div>",n+="<p>"+t.total_download+"次下载</p>",n+="\n<p>"+t.description+"</p>\n</a>\n</div>");l.innerHTML+=s}$docsify.get("//ask.dcloud.net.cn/search/ajax/search_result/search_type-doc__q-"+c+"__page-1").then(function(e){if(e){var t=JSON.parse(e);if(0===t.code){var n=t.data,a="";n.forEach(function(e){a+=p(e,c)}),a&&(a+='<div class="more"><a href="//ask.dcloud.net.cn/search/q-'+t.searchKeyword+'#all" target="_blank">前往社区搜索更多内容</a></div>',l.innerHTML+=a)}else d||(l.innerHTML='<p class="empty">'+u+"</p>")}})}),e.config.searchPlugin.searching=!0}function d(e,t){var n=t.router.parse().query.s;!function(e,t){void 0===t&&(t="");var n='<div class="input-wrap">\n      <input type="search" value="'+t+'" placeholder="搜索">\n      <div class="clear-button">\n        <svg width="26" height="24">\n          <circle cx="12" cy="12" r="11" fill="#ccc" />\n          <path stroke="white" stroke-width="2" d="M8.25,8.25,15.75,15.75" />\n          <path stroke="white" stroke-width="2"d="M8.25,15.75,15.75,8.25" />\n        </svg>\n      </div>\n    </div>\n    <div class="results-panel"></div>\n    </div>',a=Docsify.dom.create("div",n),i=Docsify.dom.find("aside"),s=Docsify.dom.find(".app-nav");Docsify.dom.toggleClass(a,"search"),m&&Docsify.dom.toggleClass(a,"mobile"),m?Docsify.dom.before(i,a):(Docsify.dom.toggleClass(a,"nav-search"),Docsify.dom.before(s,a))}(0,n),function(n){var e,t=Docsify.dom.find("div.search"),a=Docsify.dom.find(t,"input"),i=Docsify.dom.find(t,".input-wrap");Docsify.dom.on(t,"click",function(e){return"A"!==e.target.tagName&&e.stopPropagation()}),Docsify.dom.on(a,"input",function(t){clearTimeout(e),e=setTimeout(function(e){return l(t.target.value.trim(),n)},1e3)}),Docsify.dom.on(i,"click",function(e){"INPUT"!==e.target.tagName&&l(a.value="",n)})}(t),n&&setTimeout(function(e){return l(n,t)},500)}function h(e,t){!function(e,t){var n=Docsify.dom.getNode('.search input[type="search"]');if(n)if("string"==typeof e)n.placeholder=e;else{var a=Object.keys(e).filter(function(e){return-1<t.indexOf(e)})[0];n.placeholder=e[a]}}(e.placeholder,t.route.path),function(e,t){if("string"==typeof e)u=e;else{var n=Object.keys(e).filter(function(e){return-1<t.indexOf(e)})[0];u=e[n]}}(e.noData,t.route.path)}var g={placeholder:"Type to search",noData:"No Results!",paths:"auto",depth:2,maxAge:864e5};$docsify.searchPlugin={install:function(e,t){var n=function(e,t){var n=Docsify.util,a=e.config.search||g;return Array.isArray(a)?t.paths=a:"object"==typeof a&&(t.paths=Array.isArray(a.paths)?a.paths:"auto",t.maxAge=n.isPrimitive(a.maxAge)?a.maxAge:t.maxAge,t.placeholder=a.placeholder||t.placeholder,t.noData=a.noData||t.noData,t.depth=a.depth||t.depth),t}(t,g),a="auto"===n.paths;e.mounted(function(e){d(0,t),a||i(n,t)}),e.doneEach(function(e){h(n,t),a&&i(n,t)})},clear:function(e){var t=Docsify.dom.find("div.search"),n=Docsify.dom.find(t,"input"),a=m?Docsify.dom.find(t,".results-panel"):document.getElementById("search-results"),i=Docsify.dom.find(t,".clear-button"),s=document.getElementById("main");n.value="",i.classList.remove("show"),a.classList.remove("show"),a.innerHTML="",!m&&s&&s.classList.remove("hide"),e.config.searchPlugin.searching=!1},searching:!1,init:d}}();