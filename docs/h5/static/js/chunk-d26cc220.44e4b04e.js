(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d26cc220"],{"0295":function(t,a,e){},"0f64":function(t,a,e){"use strict";var i=e("0295"),s=e.n(i);s.a},a7a5:function(t,a,e){},d58a:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"uni-container"},[e("el-row",{staticClass:"uni-box navbar"},[e("el-date-picker",{attrs:{type:"date",size:"small",placeholder:"选择日期",clearable:!1,"picker-options":t.pickerOptions,"value-format":"yyyy-MM-dd"},on:{change:t.change},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1)],1),t._v(" "),e("div",{staticClass:"uni-box table"},[e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"table-box"},[e("div",{staticClass:"uni-chats"},[e("div",{staticClass:"uni-chats__title"},[e("p",{staticClass:"uni-chats__title-text"},[t._v("日新增用户对比")])])]),t._v(" "),0===t.lineChartData["num_new_visitor"].series.length?e("div",{staticClass:"no-data-style"},[t._v("暂无数据")]):e("div",[e("pie-chart",{attrs:{"chart-data":t.lineChartData["num_new_visitor"]}})],1)])]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"table-box"},[e("div",{staticClass:"uni-chats"},[e("div",{staticClass:"uni-chats__title"},[e("p",{staticClass:"uni-chats__title-text"},[t._v("日活跃用户对比")])])]),t._v(" "),0===t.lineChartData["num_visitor"].series.length?e("div",{staticClass:"no-data-style"},[t._v("暂无数据")]):e("div",[e("pie-chart",{attrs:{"chart-data":t.lineChartData["num_visitor"]}})],1)])])],1)],1),t._v(" "),e("div",{staticClass:"uni-box table"},[e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"table-box"},[e("div",{staticClass:"uni-chats"},[e("div",{staticClass:"uni-chats__title"},[e("p",{staticClass:"uni-chats__title-text"},[t._v("月新增用户对比 "),e("span",[t._v(t._s(t._f("getMonth")(t.value))+"月份")])])])]),t._v(" "),0===t.lineChartData["num_visits"].series.length?e("div",{staticClass:"no-data-style"},[t._v("暂无数据")]):e("div",[e("pie-chart",{attrs:{"chart-data":t.lineChartData["num_visits"]}})],1)])]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"table-box"},[e("div",{staticClass:"uni-chats"},[e("div",{staticClass:"uni-chats__title"},[e("p",{staticClass:"uni-chats__title-text"},[t._v("月活跃用户对比 "),e("span",[t._v(t._s(t._f("getMonth")(t.value))+"月份")])])])]),t._v(" "),0===t.lineChartData["num_page_views"].series.length?e("div",{staticClass:"no-data-style"},[t._v("暂无数据")]):e("div",[e("pie-chart",{attrs:{"chart-data":t.lineChartData["num_page_views"]}})],1)])])],1)],1),t._v(" "),e("div",{staticClass:"uni-box table"},[e("el-row",{attrs:{gutter:15}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"table-box"},[e("div",{staticClass:"uni-chats"},[e("div",{staticClass:"uni-chats__title"},[e("p",{staticClass:"uni-chats__title-text"},[t._v("总用户数对比")])])]),t._v(" "),0===t.lineChartData["num_total_visitor"].series.length?e("div",{staticClass:"no-data-style"},[t._v("暂无数据")]):e("div",[e("pie-chart",{attrs:{"chart-data":t.lineChartData["num_total_visitor"]}})],1)])])],1)],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"uni-header"},[e("span",{staticClass:"uni-header__title"},[t._v("平台对比")]),t._v(" "),e("span",{staticClass:"uni-header__title-sub"},[t._v("多个指标在不同平台数据的占比，可以直观看出各个平台引流的效果")])])}],n=e("db72"),r=(e("28a5"),e("c5f6"),e("2f62")),c=e("ed08"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width}})},o=[],u=(e("7f7f"),e("ac6a"),e("313e")),h=e.n(u),d=e("f42c");e("817d");var v={mixins:[d["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick(function(){t.initChart()})},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.series,e=[];a.forEach(function(t){e.push(t.name)});var i={tooltip:{formatter:function(t){var a='<div class="tooltip-box">';a+='<p class="tooltip-box__p tooltip-box__title">'.concat(t.name,"</p>");var e=" ".concat(t.value," (").concat(t.percent,"%)");return a+='<div class="tooltip-box__p tooltip-box__item"><div class="tooltip-box__circle" style="background:'.concat(t.color,'"></div><span>').concat(t.name,"</span> : <span>").concat(e,"</span></div>"),a+="</div>",a},backgroundColor:"rgba(245, 245, 245, 0)",extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",padding:[0,0]},legend:{left:"left",top:"center",orient:"vertical",bottom:"10",data:e},series:[{type:"pie",radius:[70,100],center:["65%","50%"],labelLine:{length:20,length2:20,smooth:!0,lineStyle:{width:1,shadowColor:"rgba(0,0,0,0.4)"}},data:[],animationEasing:"cubicInOut",animationDuration:2600}]},s={},n=0;a.forEach(function(t,a){s[t.name]=t.value,n+=t.value,i.series[0].data.push({name:t.name,value:t.value})}),i.legend.formatter=function(t){var a=s&&s[t]||0,e=parseFloat(a/n||0).toFixed(2);return"".concat(t," (数量：").concat(s[t],"，占比：").concat(e,"%)")},this.chart.setOption(i)}}},p=v,_=(e("0f64"),e("2877")),f=Object(_["a"])(p,l,o,!1,null,null,null),m=f.exports,b={name:"TrendAnalysls",components:{PieChart:m},filters:{getMonth:function(t){return Number(t.split("-")[1])}},data:function(){return{pickerOptions:{disabledDate:function(t){return Object(c["a"])(Object(c["d"])(new Date,1),Object(c["d"])(t))}},lineChartData:{num_new_visitor:{series:[]},num_visitor:{series:[]},num_visits:{series:[]},num_page_views:{series:[]},num_total_visitor:{series:[]}},value:Object(c["d"])(new Date),formData:{id_app:"",p:"",period:1,start:Object(c["d"])(new Date),end:Object(c["d"])(new Date)}}},computed:Object(n["a"])({},Object(r["b"])(["id_app","p_info"])),watch:{id_app:function(t){t&&(this.formData.id_app=t,this.requestInit())},p_info:function(t){this.formData.p=t,this.requestInit()}},created:function(){this.formData.id_app=this.id_app,this.formData.p=this.p_info,this.id_app&&this.requestInit()},methods:{requestInit:function(){this.getVisitplatformPie("num_new_visitor",1),this.getVisitplatformPie("num_visitor",1),this.getVisitplatformPie("num_visits",3),this.getVisitplatformPie("num_page_views",3),this.getVisitplatformPie("num_total_visitor",1)},change:function(t){this.formData.start=t,this.formData.end=t,this.requestInit()},getVisitplatformPie:function(t,a){var e=this,i=this.formData,s=i.id_app,n=i.start,r=i.end;this.$api.Visit_platform_Pie({id_app:s,start:n,end:r,period:a,item:t}).then(function(a){e.lineChartData[t].series=a.data})}}},g=b,C=(e("f020"),Object(_["a"])(g,i,s,!1,null,"839fd892",null));a["default"]=C.exports},ed08:function(t,a,e){"use strict";e.d(a,"d",function(){return n}),e.d(a,"c",function(){return r}),e.d(a,"a",function(){return c}),e.d(a,"e",function(){return l}),e.d(a,"b",function(){return o});e("3b2b"),e("4917"),e("4f7f"),e("5df3"),e("1c4c"),e("ac6a"),e("456d"),e("28a5");var i=e("768b"),s=(e("a481"),e("6b54"),e("7618"));function n(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";"object"!==Object(s["a"])(t)&&(t=t.replace(/-/g,"/"));var i=new Date(t);switch(e){case"day":i.setDate(i.getDate()+a);break;case"month":i.setMonth(i.getMonth()+a);break;case"year":i.setFullYear(i.getFullYear()+a);break}var n=i.getFullYear(),r=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,c=i.getDate()<10?"0"+i.getDate():i.getDate();return n+"-"+r+"-"+c}function r(t,a,e){var s=t.split("-"),n=Object(i["a"])(s,3),r=n[0],c=n[1],l=n[2],o=a.split("-"),u=Object(i["a"])(o,3),h=u[0],d=u[1],v=u[2],p=new Date(r,c,l).getTime(),_=new Date(h,d,v).getTime(),f=864e5,m=12096e5,b=2592e6,g=_-p;return e&&0===g?1:g>=b?3:g>=m?2:g>=f?1:0}function c(t,a){return t=new Date(t.replace("-","/").replace("-","/")),a=new Date(a.replace("-","/").replace("-","/")),t<=a}function l(t){var a=[],e="天";switch(t){case 1:e="天";break;case 2:e="周";break;case 3:e="月";break}for(var i=0;i<9;i++){var s=i+1;1===t&&(8===s&&(s=14),9===s&&(s=30)),a.push({value:i+1,label:"".concat(s).concat(e,"后")})}return a}function o(t,a,e){var i,s,n,r,c,l=function l(){var o=+new Date-r;o<a&&o>0?i=setTimeout(l,a-o):(i=null,e||(c=t.apply(n,s),i||(n=s=null)))};return function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];n=this,r=+new Date;var h=e&&!i;return i||(i=setTimeout(l,a)),h&&(c=t.apply(n,o),n=o=null),c}}},f020:function(t,a,e){"use strict";var i=e("a7a5"),s=e.n(i);s.a}}]);